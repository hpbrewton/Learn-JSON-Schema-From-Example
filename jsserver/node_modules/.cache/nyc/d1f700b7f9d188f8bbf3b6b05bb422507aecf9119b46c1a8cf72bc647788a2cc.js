"use strict";var cov_rru3aj0gw=function(){var path="/Users/hb/latlib/jsserver/javascript-algorithms/build/data-structures/disjoint-set/DisjointSetItem.js";var hash="9d0752862c324fc9d30d3d19308e9a0b60335a5e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/hb/latlib/jsserver/javascript-algorithms/build/data-structures/disjoint-set/DisjointSetItem.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:50},end:{line:8,column:151}},"3":{start:{line:8,column:92},end:{line:8,column:149}},"4":{start:{line:10,column:44},end:{line:10,column:315}},"5":{start:{line:10,column:57},end:{line:10,column:58}},"6":{start:{line:10,column:102},end:{line:10,column:110}},"7":{start:{line:10,column:112},end:{line:10,column:167}},"8":{start:{line:10,column:168},end:{line:10,column:199}},"9":{start:{line:10,column:200},end:{line:10,column:254}},"10":{start:{line:10,column:227},end:{line:10,column:254}},"11":{start:{line:10,column:255},end:{line:10,column:313}},"12":{start:{line:12,column:62},end:{line:12,column:131}},"13":{start:{line:12,column:78},end:{line:12,column:131}},"14":{start:{line:12,column:132},end:{line:12,column:193}},"15":{start:{line:12,column:149},end:{line:12,column:193}},"16":{start:{line:12,column:194},end:{line:12,column:213}},"17":{start:{line:16,column:0},end:{line:131,column:3}},"18":{start:{line:22,column:4},end:{line:22,column:43}},"19":{start:{line:24,column:4},end:{line:24,column:23}},"20":{start:{line:25,column:4},end:{line:25,column:35}},"21":{start:{line:28,column:4},end:{line:28,column:23}},"22":{start:{line:29,column:4},end:{line:29,column:23}},"23":{start:{line:36,column:2},end:{line:128,column:6}},"24":{start:{line:40,column:6},end:{line:42,column:7}},"25":{start:{line:41,column:8},end:{line:41,column:44}},"26":{start:{line:45,column:6},end:{line:45,column:24}},"27":{start:{line:54,column:6},end:{line:54,column:58}},"28":{start:{line:63,column:6},end:{line:63,column:34}},"29":{start:{line:74,column:6},end:{line:76,column:7}},"30":{start:{line:75,column:8},end:{line:75,column:17}},"31":{start:{line:78,column:17},end:{line:78,column:18}},"32":{start:{line:81,column:6},end:{line:86,column:9}},"33":{start:{line:83,column:8},end:{line:83,column:18}},"34":{start:{line:85,column:8},end:{line:85,column:32}},"35":{start:{line:87,column:6},end:{line:87,column:18}},"36":{start:{line:96,column:6},end:{line:96,column:42}},"37":{start:{line:107,column:36},end:{line:107,column:108}},"38":{start:{line:108,column:6},end:{line:108,column:31}},"39":{start:{line:110,column:6},end:{line:112,column:7}},"40":{start:{line:111,column:8},end:{line:111,column:34}},"41":{start:{line:114,column:6},end:{line:114,column:18}},"42":{start:{line:124,column:6},end:{line:124,column:52}},"43":{start:{line:125,column:6},end:{line:125,column:39}},"44":{start:{line:126,column:6},end:{line:126,column:18}},"45":{start:{line:130,column:2},end:{line:130,column:25}},"46":{start:{line:133,column:0},end:{line:133,column:37}}},fnMap:{"0":{name:"_classCallCheck",decl:{start:{line:8,column:9},end:{line:8,column:24}},loc:{start:{line:8,column:48},end:{line:8,column:153}},line:8},"1":{name:"_defineProperties",decl:{start:{line:10,column:9},end:{line:10,column:26}},loc:{start:{line:10,column:42},end:{line:10,column:317}},line:10},"2":{name:"_createClass",decl:{start:{line:12,column:9},end:{line:12,column:21}},loc:{start:{line:12,column:60},end:{line:12,column:215}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:16,column:0},end:{line:16,column:1}},loc:{start:{line:16,column:12},end:{line:131,column:1}},line:16},"4":{name:"DisjointSetItem",decl:{start:{line:21,column:11},end:{line:21,column:26}},loc:{start:{line:21,column:47},end:{line:30,column:3}},line:21},"5":{name:"getKey",decl:{start:{line:38,column:20},end:{line:38,column:26}},loc:{start:{line:38,column:29},end:{line:46,column:5}},line:38},"6":{name:"getRoot",decl:{start:{line:53,column:20},end:{line:53,column:27}},loc:{start:{line:53,column:30},end:{line:55,column:5}},line:53},"7":{name:"isRoot",decl:{start:{line:62,column:20},end:{line:62,column:26}},loc:{start:{line:62,column:29},end:{line:64,column:5}},line:62},"8":{name:"getRank",decl:{start:{line:73,column:20},end:{line:73,column:27}},loc:{start:{line:73,column:30},end:{line:88,column:5}},line:73},"9":{name:"(anonymous_9)",decl:{start:{line:81,column:33},end:{line:81,column:34}},loc:{start:{line:81,column:50},end:{line:86,column:7}},line:81},"10":{name:"getChildren",decl:{start:{line:95,column:20},end:{line:95,column:31}},loc:{start:{line:95,column:34},end:{line:97,column:5}},line:95},"11":{name:"setParent",decl:{start:{line:106,column:20},end:{line:106,column:29}},loc:{start:{line:106,column:42},end:{line:115,column:5}},line:106},"12":{name:"addChild",decl:{start:{line:123,column:20},end:{line:123,column:28}},loc:{start:{line:123,column:40},end:{line:127,column:5}},line:123}},branchMap:{"0":{loc:{start:{line:8,column:50},end:{line:8,column:151}},type:"if",locations:[{start:{line:8,column:50},end:{line:8,column:151}},{start:{line:8,column:50},end:{line:8,column:151}}],line:8},"1":{loc:{start:{line:10,column:136},end:{line:10,column:166}},type:"binary-expr",locations:[{start:{line:10,column:136},end:{line:10,column:157}},{start:{line:10,column:161},end:{line:10,column:166}}],line:10},"2":{loc:{start:{line:10,column:200},end:{line:10,column:254}},type:"if",locations:[{start:{line:10,column:200},end:{line:10,column:254}},{start:{line:10,column:200},end:{line:10,column:254}}],line:10},"3":{loc:{start:{line:12,column:62},end:{line:12,column:131}},type:"if",locations:[{start:{line:12,column:62},end:{line:12,column:131}},{start:{line:12,column:62},end:{line:12,column:131}}],line:12},"4":{loc:{start:{line:12,column:132},end:{line:12,column:193}},type:"if",locations:[{start:{line:12,column:132},end:{line:12,column:193}},{start:{line:12,column:132},end:{line:12,column:193}}],line:12},"5":{loc:{start:{line:40,column:6},end:{line:42,column:7}},type:"if",locations:[{start:{line:40,column:6},end:{line:42,column:7}},{start:{line:40,column:6},end:{line:42,column:7}}],line:40},"6":{loc:{start:{line:54,column:13},end:{line:54,column:57}},type:"cond-expr",locations:[{start:{line:54,column:29},end:{line:54,column:33}},{start:{line:54,column:36},end:{line:54,column:57}}],line:54},"7":{loc:{start:{line:74,column:6},end:{line:76,column:7}},type:"if",locations:[{start:{line:74,column:6},end:{line:76,column:7}},{start:{line:74,column:6},end:{line:76,column:7}}],line:74},"8":{loc:{start:{line:107,column:36},end:{line:107,column:108}},type:"cond-expr",locations:[{start:{line:107,column:89},end:{line:107,column:101}},{start:{line:107,column:104},end:{line:107,column:108}}],line:107},"9":{loc:{start:{line:107,column:36},end:{line:107,column:86}},type:"binary-expr",locations:[{start:{line:107,column:36},end:{line:107,column:56}},{start:{line:107,column:60},end:{line:107,column:86}}],line:107},"10":{loc:{start:{line:110,column:6},end:{line:112,column:7}},type:"if",locations:[{start:{line:110,column:6},end:{line:112,column:7}},{start:{line:110,column:6},end:{line:112,column:7}}],line:110}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"9d0752862c324fc9d30d3d19308e9a0b60335a5e"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_rru3aj0gw.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_rru3aj0gw.s[1]++;exports["default"]=void 0;function _classCallCheck(instance,Constructor){cov_rru3aj0gw.f[0]++;cov_rru3aj0gw.s[2]++;if(!(instance instanceof Constructor)){cov_rru3aj0gw.b[0][0]++;cov_rru3aj0gw.s[3]++;throw new TypeError("Cannot call a class as a function");}else{cov_rru3aj0gw.b[0][1]++;}}function _defineProperties(target,props){cov_rru3aj0gw.f[1]++;cov_rru3aj0gw.s[4]++;for(var i=(cov_rru3aj0gw.s[5]++,0);i<props.length;i++){var descriptor=(cov_rru3aj0gw.s[6]++,props[i]);cov_rru3aj0gw.s[7]++;descriptor.enumerable=(cov_rru3aj0gw.b[1][0]++,descriptor.enumerable)||(cov_rru3aj0gw.b[1][1]++,false);cov_rru3aj0gw.s[8]++;descriptor.configurable=true;cov_rru3aj0gw.s[9]++;if("value"in descriptor){cov_rru3aj0gw.b[2][0]++;cov_rru3aj0gw.s[10]++;descriptor.writable=true;}else{cov_rru3aj0gw.b[2][1]++;}cov_rru3aj0gw.s[11]++;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){cov_rru3aj0gw.f[2]++;cov_rru3aj0gw.s[12]++;if(protoProps){cov_rru3aj0gw.b[3][0]++;cov_rru3aj0gw.s[13]++;_defineProperties(Constructor.prototype,protoProps);}else{cov_rru3aj0gw.b[3][1]++;}cov_rru3aj0gw.s[14]++;if(staticProps){cov_rru3aj0gw.b[4][0]++;cov_rru3aj0gw.s[15]++;_defineProperties(Constructor,staticProps);}else{cov_rru3aj0gw.b[4][1]++;}cov_rru3aj0gw.s[16]++;return Constructor;}var DisjointSetItem=(/*#__PURE__*/cov_rru3aj0gw.s[17]++,function(){cov_rru3aj0gw.f[3]++;/**
   * @param {*} value
   * @param {function(value: *)} [keyCallback]
   */function DisjointSetItem(value,keyCallback){cov_rru3aj0gw.f[4]++;cov_rru3aj0gw.s[18]++;_classCallCheck(this,DisjointSetItem);cov_rru3aj0gw.s[19]++;this.value=value;cov_rru3aj0gw.s[20]++;this.keyCallback=keyCallback;/** @var {DisjointSetItem} this.parent */cov_rru3aj0gw.s[21]++;this.parent=null;cov_rru3aj0gw.s[22]++;this.children={};}/**
   * @return {*}
   */cov_rru3aj0gw.s[23]++;_createClass(DisjointSetItem,[{key:"getKey",value:function getKey(){cov_rru3aj0gw.f[5]++;cov_rru3aj0gw.s[24]++;// Allow user to define custom key generator.
if(this.keyCallback){cov_rru3aj0gw.b[5][0]++;cov_rru3aj0gw.s[25]++;return this.keyCallback(this.value);}else{cov_rru3aj0gw.b[5][1]++;}// Otherwise use value as a key by default.
cov_rru3aj0gw.s[26]++;return this.value;}/**
     * @return {DisjointSetItem}
     */},{key:"getRoot",value:function getRoot(){cov_rru3aj0gw.f[6]++;cov_rru3aj0gw.s[27]++;return this.isRoot()?(cov_rru3aj0gw.b[6][0]++,this):(cov_rru3aj0gw.b[6][1]++,this.parent.getRoot());}/**
     * @return {boolean}
     */},{key:"isRoot",value:function isRoot(){cov_rru3aj0gw.f[7]++;cov_rru3aj0gw.s[28]++;return this.parent===null;}/**
     * Rank basically means the number of all ancestors.
     *
     * @return {number}
     */},{key:"getRank",value:function getRank(){cov_rru3aj0gw.f[8]++;cov_rru3aj0gw.s[29]++;if(this.getChildren().length===0){cov_rru3aj0gw.b[7][0]++;cov_rru3aj0gw.s[30]++;return 0;}else{cov_rru3aj0gw.b[7][1]++;}var rank=(cov_rru3aj0gw.s[31]++,0);/** @var {DisjointSetItem} child */cov_rru3aj0gw.s[32]++;this.getChildren().forEach(function(child){cov_rru3aj0gw.f[9]++;cov_rru3aj0gw.s[33]++;// Count child itself.
rank+=1;// Also add all children of current child.
cov_rru3aj0gw.s[34]++;rank+=child.getRank();});cov_rru3aj0gw.s[35]++;return rank;}/**
     * @return {DisjointSetItem[]}
     */},{key:"getChildren",value:function getChildren(){cov_rru3aj0gw.f[10]++;cov_rru3aj0gw.s[36]++;return Object.values(this.children);}/**
     * @param {DisjointSetItem} parentItem
     * @param {boolean} forceSettingParentChild
     * @return {DisjointSetItem}
     */},{key:"setParent",value:function setParent(parentItem){cov_rru3aj0gw.f[11]++;var forceSettingParentChild=(cov_rru3aj0gw.s[37]++,(cov_rru3aj0gw.b[9][0]++,arguments.length>1)&&(cov_rru3aj0gw.b[9][1]++,arguments[1]!==undefined)?(cov_rru3aj0gw.b[8][0]++,arguments[1]):(cov_rru3aj0gw.b[8][1]++,true));cov_rru3aj0gw.s[38]++;this.parent=parentItem;cov_rru3aj0gw.s[39]++;if(forceSettingParentChild){cov_rru3aj0gw.b[10][0]++;cov_rru3aj0gw.s[40]++;parentItem.addChild(this);}else{cov_rru3aj0gw.b[10][1]++;}cov_rru3aj0gw.s[41]++;return this;}/**
     * @param {DisjointSetItem} childItem
     * @return {DisjointSetItem}
     */},{key:"addChild",value:function addChild(childItem){cov_rru3aj0gw.f[12]++;cov_rru3aj0gw.s[42]++;this.children[childItem.getKey()]=childItem;cov_rru3aj0gw.s[43]++;childItem.setParent(this,false);cov_rru3aj0gw.s[44]++;return this;}}]);cov_rru3aj0gw.s[45]++;return DisjointSetItem;}());cov_rru3aj0gw.s[46]++;exports["default"]=DisjointSetItem;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYi9sYXRsaWIvanNzZXJ2ZXIvamF2YXNjcmlwdC1hbGdvcml0aG1zL2J1aWxkL2RhdGEtc3RydWN0dXJlcy9kaXNqb2ludC1zZXQvRGlzam9pbnRTZXRJdGVtLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkRpc2pvaW50U2V0SXRlbSIsImtleUNhbGxiYWNrIiwicGFyZW50IiwiY2hpbGRyZW4iLCJnZXRLZXkiLCJnZXRSb290IiwiaXNSb290IiwiZ2V0UmFuayIsImdldENoaWxkcmVuIiwicmFuayIsImZvckVhY2giLCJjaGlsZCIsInZhbHVlcyIsInNldFBhcmVudCIsInBhcmVudEl0ZW0iLCJmb3JjZVNldHRpbmdQYXJlbnRDaGlsZCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImFkZENoaWxkIiwiY2hpbGRJdGVtIl0sIm1hcHBpbmdzIjoiQUFBQSxhLDh6UEFFQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixDQUErQixZQUEvQixDQUE2QyxDQUMzQ0MsS0FBSyxDQUFFLElBRG9DLENBQTdDLEUscUJBR0FELE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBcUIsSUFBSyxFQUExQixDQUVBLFFBQVNFLENBQUFBLGVBQVQsQ0FBeUJDLFFBQXpCLENBQW1DQyxXQUFuQyxDQUFnRCwyQ0FBRSxHQUFJLEVBQUVELFFBQVEsV0FBWUMsQ0FBQUEsV0FBdEIsQ0FBSixDQUF3Qyw4Q0FBRSxLQUFN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Q0FBRSxRQUFTcUMsQ0FBQUEsUUFBVCxDQUFrQkMsU0FBbEIsQ0FBNkIsNkNBQ2xDLEtBQUtoQixRQUFMLENBQWNnQixTQUFTLENBQUNmLE1BQVYsRUFBZCxFQUFvQ2UsU0FBcEMsQ0FEa0Msc0JBRWxDQSxTQUFTLENBQUNOLFNBQVYsQ0FBb0IsSUFBcEIsQ0FBMEIsS0FBMUIsRUFGa0Msc0JBR2xDLE1BQU8sS0FBUCxDQUNELENBTkEsQ0FyRjJCLENBQWxCLENBQVosQ0FwQlUsc0JBa0hWLE1BQU9iLENBQUFBLGVBQVAsQ0FDRCxDQW5IRCxFQUZtQixDQUFuQixDLHNCQXVIQXBCLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBcUJvQixlQUFyQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIERpc2pvaW50U2V0SXRlbSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6ICopfSBba2V5Q2FsbGJhY2tdXG4gICAqL1xuICBmdW5jdGlvbiBEaXNqb2ludFNldEl0ZW0odmFsdWUsIGtleUNhbGxiYWNrKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpc2pvaW50U2V0SXRlbSk7XG5cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5rZXlDYWxsYmFjayA9IGtleUNhbGxiYWNrO1xuICAgIC8qKiBAdmFyIHtEaXNqb2ludFNldEl0ZW19IHRoaXMucGFyZW50ICovXG5cbiAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgdGhpcy5jaGlsZHJlbiA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJuIHsqfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhEaXNqb2ludFNldEl0ZW0sIFt7XG4gICAga2V5OiBcImdldEtleVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRLZXkoKSB7XG4gICAgICAvLyBBbGxvdyB1c2VyIHRvIGRlZmluZSBjdXN0b20ga2V5IGdlbmVyYXRvci5cbiAgICAgIGlmICh0aGlzLmtleUNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleUNhbGxiYWNrKHRoaXMudmFsdWUpO1xuICAgICAgfSAvLyBPdGhlcndpc2UgdXNlIHZhbHVlIGFzIGEga2V5IGJ5IGRlZmF1bHQuXG5cblxuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0Rpc2pvaW50U2V0SXRlbX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFJvb3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Um9vdCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzUm9vdCgpID8gdGhpcyA6IHRoaXMucGFyZW50LmdldFJvb3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzUm9vdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1Jvb3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQgPT09IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJhbmsgYmFzaWNhbGx5IG1lYW5zIHRoZSBudW1iZXIgb2YgYWxsIGFuY2VzdG9ycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFJhbmtcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmFuaygpIHtcbiAgICAgIGlmICh0aGlzLmdldENoaWxkcmVuKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmFuayA9IDA7XG4gICAgICAvKiogQHZhciB7RGlzam9pbnRTZXRJdGVtfSBjaGlsZCAqL1xuXG4gICAgICB0aGlzLmdldENoaWxkcmVuKCkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgLy8gQ291bnQgY2hpbGQgaXRzZWxmLlxuICAgICAgICByYW5rICs9IDE7IC8vIEFsc28gYWRkIGFsbCBjaGlsZHJlbiBvZiBjdXJyZW50IGNoaWxkLlxuXG4gICAgICAgIHJhbmsgKz0gY2hpbGQuZ2V0UmFuaygpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmFuaztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7RGlzam9pbnRTZXRJdGVtW119XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDaGlsZHJlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDaGlsZHJlbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuY2hpbGRyZW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Rpc2pvaW50U2V0SXRlbX0gcGFyZW50SXRlbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2VTZXR0aW5nUGFyZW50Q2hpbGRcbiAgICAgKiBAcmV0dXJuIHtEaXNqb2ludFNldEl0ZW19XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRQYXJlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UGFyZW50KHBhcmVudEl0ZW0pIHtcbiAgICAgIHZhciBmb3JjZVNldHRpbmdQYXJlbnRDaGlsZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50SXRlbTtcblxuICAgICAgaWYgKGZvcmNlU2V0dGluZ1BhcmVudENoaWxkKSB7XG4gICAgICAgIHBhcmVudEl0ZW0uYWRkQ2hpbGQodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Rpc2pvaW50U2V0SXRlbX0gY2hpbGRJdGVtXG4gICAgICogQHJldHVybiB7RGlzam9pbnRTZXRJdGVtfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkQ2hpbGRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ2hpbGQoY2hpbGRJdGVtKSB7XG4gICAgICB0aGlzLmNoaWxkcmVuW2NoaWxkSXRlbS5nZXRLZXkoKV0gPSBjaGlsZEl0ZW07XG4gICAgICBjaGlsZEl0ZW0uc2V0UGFyZW50KHRoaXMsIGZhbHNlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEaXNqb2ludFNldEl0ZW07XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRGlzam9pbnRTZXRJdGVtOyJdfQ==