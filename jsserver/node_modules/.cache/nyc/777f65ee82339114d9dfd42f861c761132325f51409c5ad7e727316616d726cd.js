"use strict";var cov_1v9mxh54ch=function(){var path="/Users/hb/latlib/jsserver/javascript-algorithms/build/data-structures/disjoint-set/DisjointSet.js";var hash="2a0bf012b9c121cd30c6609d719fa125d22847ca";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/hb/latlib/jsserver/javascript-algorithms/build/data-structures/disjoint-set/DisjointSet.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:23},end:{line:8,column:75}},"3":{start:{line:10,column:39},end:{line:10,column:95}},"4":{start:{line:12,column:50},end:{line:12,column:151}},"5":{start:{line:12,column:92},end:{line:12,column:149}},"6":{start:{line:14,column:44},end:{line:14,column:315}},"7":{start:{line:14,column:57},end:{line:14,column:58}},"8":{start:{line:14,column:102},end:{line:14,column:110}},"9":{start:{line:14,column:112},end:{line:14,column:167}},"10":{start:{line:14,column:168},end:{line:14,column:199}},"11":{start:{line:14,column:200},end:{line:14,column:254}},"12":{start:{line:14,column:227},end:{line:14,column:254}},"13":{start:{line:14,column:255},end:{line:14,column:313}},"14":{start:{line:16,column:62},end:{line:16,column:131}},"15":{start:{line:16,column:78},end:{line:16,column:131}},"16":{start:{line:16,column:132},end:{line:16,column:193}},"17":{start:{line:16,column:149},end:{line:16,column:193}},"18":{start:{line:16,column:194},end:{line:16,column:213}},"19":{start:{line:20,column:0},end:{line:125,column:3}},"20":{start:{line:25,column:4},end:{line:25,column:39}},"21":{start:{line:27,column:4},end:{line:27,column:35}},"22":{start:{line:28,column:4},end:{line:28,column:20}},"23":{start:{line:36,column:2},end:{line:122,column:6}},"24":{start:{line:39,column:28},end:{line:39,column:88}},"25":{start:{line:41,column:6},end:{line:44,column:7}},"26":{start:{line:43,column:8},end:{line:43,column:63}},"27":{start:{line:46,column:6},end:{line:46,column:18}},"28":{start:{line:58,column:33},end:{line:58,column:93}},"29":{start:{line:60,column:33},end:{line:60,column:74}},"30":{start:{line:62,column:6},end:{line:64,column:7}},"31":{start:{line:63,column:8},end:{line:63,column:20}},"32":{start:{line:66,column:6},end:{line:66,column:53}},"33":{start:{line:79,column:21},end:{line:79,column:38}},"34":{start:{line:80,column:21},end:{line:80,column:38}},"35":{start:{line:82,column:6},end:{line:84,column:7}},"36":{start:{line:83,column:8},end:{line:83,column:61}},"37":{start:{line:86,column:6},end:{line:89,column:7}},"38":{start:{line:88,column:8},end:{line:88,column:20}},"39":{start:{line:91,column:18},end:{line:91,column:38}},"40":{start:{line:92,column:18},end:{line:92,column:38}},"41":{start:{line:94,column:6},end:{line:98,column:7}},"42":{start:{line:96,column:8},end:{line:96,column:30}},"43":{start:{line:97,column:8},end:{line:97,column:20}},"44":{start:{line:101,column:6},end:{line:101,column:28}},"45":{start:{line:102,column:6},end:{line:102,column:18}},"46":{start:{line:113,column:21},end:{line:113,column:38}},"47":{start:{line:114,column:21},end:{line:114,column:38}},"48":{start:{line:116,column:6},end:{line:118,column:7}},"49":{start:{line:117,column:8},end:{line:117,column:61}},"50":{start:{line:120,column:6},end:{line:120,column:35}},"51":{start:{line:124,column:2},end:{line:124,column:21}},"52":{start:{line:127,column:0},end:{line:127,column:33}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:10,column:9},end:{line:10,column:31}},loc:{start:{line:10,column:37},end:{line:10,column:97}},line:10},"1":{name:"_classCallCheck",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:48},end:{line:12,column:153}},line:12},"2":{name:"_defineProperties",decl:{start:{line:14,column:9},end:{line:14,column:26}},loc:{start:{line:14,column:42},end:{line:14,column:317}},line:14},"3":{name:"_createClass",decl:{start:{line:16,column:9},end:{line:16,column:21}},loc:{start:{line:16,column:60},end:{line:16,column:215}},line:16},"4":{name:"(anonymous_4)",decl:{start:{line:20,column:0},end:{line:20,column:1}},loc:{start:{line:20,column:12},end:{line:125,column:1}},line:20},"5":{name:"DisjointSet",decl:{start:{line:24,column:11},end:{line:24,column:22}},loc:{start:{line:24,column:36},end:{line:29,column:3}},line:24},"6":{name:"makeSet",decl:{start:{line:38,column:20},end:{line:38,column:27}},loc:{start:{line:38,column:39},end:{line:47,column:5}},line:38},"7":{name:"find",decl:{start:{line:57,column:20},end:{line:57,column:24}},loc:{start:{line:57,column:36},end:{line:67,column:5}},line:57},"8":{name:"union",decl:{start:{line:78,column:20},end:{line:78,column:25}},loc:{start:{line:78,column:42},end:{line:103,column:5}},line:78},"9":{name:"inSameSet",decl:{start:{line:112,column:20},end:{line:112,column:29}},loc:{start:{line:112,column:46},end:{line:121,column:5}},line:112}},branchMap:{"0":{loc:{start:{line:10,column:46},end:{line:10,column:94}},type:"cond-expr",locations:[{start:{line:10,column:70},end:{line:10,column:73}},{start:{line:10,column:76},end:{line:10,column:94}}],line:10},"1":{loc:{start:{line:10,column:46},end:{line:10,column:67}},type:"binary-expr",locations:[{start:{line:10,column:46},end:{line:10,column:49}},{start:{line:10,column:53},end:{line:10,column:67}}],line:10},"2":{loc:{start:{line:12,column:50},end:{line:12,column:151}},type:"if",locations:[{start:{line:12,column:50},end:{line:12,column:151}},{start:{line:12,column:50},end:{line:12,column:151}}],line:12},"3":{loc:{start:{line:14,column:136},end:{line:14,column:166}},type:"binary-expr",locations:[{start:{line:14,column:136},end:{line:14,column:157}},{start:{line:14,column:161},end:{line:14,column:166}}],line:14},"4":{loc:{start:{line:14,column:200},end:{line:14,column:254}},type:"if",locations:[{start:{line:14,column:200},end:{line:14,column:254}},{start:{line:14,column:200},end:{line:14,column:254}}],line:14},"5":{loc:{start:{line:16,column:62},end:{line:16,column:131}},type:"if",locations:[{start:{line:16,column:62},end:{line:16,column:131}},{start:{line:16,column:62},end:{line:16,column:131}}],line:16},"6":{loc:{start:{line:16,column:132},end:{line:16,column:193}},type:"if",locations:[{start:{line:16,column:132},end:{line:16,column:193}},{start:{line:16,column:132},end:{line:16,column:193}}],line:16},"7":{loc:{start:{line:41,column:6},end:{line:44,column:7}},type:"if",locations:[{start:{line:41,column:6},end:{line:44,column:7}},{start:{line:41,column:6},end:{line:44,column:7}}],line:41},"8":{loc:{start:{line:62,column:6},end:{line:64,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:64,column:7}},{start:{line:62,column:6},end:{line:64,column:7}}],line:62},"9":{loc:{start:{line:82,column:6},end:{line:84,column:7}},type:"if",locations:[{start:{line:82,column:6},end:{line:84,column:7}},{start:{line:82,column:6},end:{line:84,column:7}}],line:82},"10":{loc:{start:{line:82,column:10},end:{line:82,column:48}},type:"binary-expr",locations:[{start:{line:82,column:10},end:{line:82,column:27}},{start:{line:82,column:31},end:{line:82,column:48}}],line:82},"11":{loc:{start:{line:86,column:6},end:{line:89,column:7}},type:"if",locations:[{start:{line:86,column:6},end:{line:89,column:7}},{start:{line:86,column:6},end:{line:89,column:7}}],line:86},"12":{loc:{start:{line:94,column:6},end:{line:98,column:7}},type:"if",locations:[{start:{line:94,column:6},end:{line:98,column:7}},{start:{line:94,column:6},end:{line:98,column:7}}],line:94},"13":{loc:{start:{line:116,column:6},end:{line:118,column:7}},type:"if",locations:[{start:{line:116,column:6},end:{line:118,column:7}},{start:{line:116,column:6},end:{line:118,column:7}}],line:116},"14":{loc:{start:{line:116,column:10},end:{line:116,column:48}},type:"binary-expr",locations:[{start:{line:116,column:10},end:{line:116,column:27}},{start:{line:116,column:31},end:{line:116,column:48}}],line:116}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"2a0bf012b9c121cd30c6609d719fa125d22847ca"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_1v9mxh54ch.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1v9mxh54ch.s[1]++;exports["default"]=void 0;var _DisjointSetItem=(cov_1v9mxh54ch.s[2]++,_interopRequireDefault(require("./DisjointSetItem")));function _interopRequireDefault(obj){cov_1v9mxh54ch.f[0]++;cov_1v9mxh54ch.s[3]++;return(cov_1v9mxh54ch.b[1][0]++,obj)&&(cov_1v9mxh54ch.b[1][1]++,obj.__esModule)?(cov_1v9mxh54ch.b[0][0]++,obj):(cov_1v9mxh54ch.b[0][1]++,{"default":obj});}function _classCallCheck(instance,Constructor){cov_1v9mxh54ch.f[1]++;cov_1v9mxh54ch.s[4]++;if(!(instance instanceof Constructor)){cov_1v9mxh54ch.b[2][0]++;cov_1v9mxh54ch.s[5]++;throw new TypeError("Cannot call a class as a function");}else{cov_1v9mxh54ch.b[2][1]++;}}function _defineProperties(target,props){cov_1v9mxh54ch.f[2]++;cov_1v9mxh54ch.s[6]++;for(var i=(cov_1v9mxh54ch.s[7]++,0);i<props.length;i++){var descriptor=(cov_1v9mxh54ch.s[8]++,props[i]);cov_1v9mxh54ch.s[9]++;descriptor.enumerable=(cov_1v9mxh54ch.b[3][0]++,descriptor.enumerable)||(cov_1v9mxh54ch.b[3][1]++,false);cov_1v9mxh54ch.s[10]++;descriptor.configurable=true;cov_1v9mxh54ch.s[11]++;if("value"in descriptor){cov_1v9mxh54ch.b[4][0]++;cov_1v9mxh54ch.s[12]++;descriptor.writable=true;}else{cov_1v9mxh54ch.b[4][1]++;}cov_1v9mxh54ch.s[13]++;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){cov_1v9mxh54ch.f[3]++;cov_1v9mxh54ch.s[14]++;if(protoProps){cov_1v9mxh54ch.b[5][0]++;cov_1v9mxh54ch.s[15]++;_defineProperties(Constructor.prototype,protoProps);}else{cov_1v9mxh54ch.b[5][1]++;}cov_1v9mxh54ch.s[16]++;if(staticProps){cov_1v9mxh54ch.b[6][0]++;cov_1v9mxh54ch.s[17]++;_defineProperties(Constructor,staticProps);}else{cov_1v9mxh54ch.b[6][1]++;}cov_1v9mxh54ch.s[18]++;return Constructor;}var DisjointSet=(/*#__PURE__*/cov_1v9mxh54ch.s[19]++,function(){cov_1v9mxh54ch.f[4]++;/**
   * @param {function(value: *)} [keyCallback]
   */function DisjointSet(keyCallback){cov_1v9mxh54ch.f[5]++;cov_1v9mxh54ch.s[20]++;_classCallCheck(this,DisjointSet);cov_1v9mxh54ch.s[21]++;this.keyCallback=keyCallback;cov_1v9mxh54ch.s[22]++;this.items={};}/**
   * @param {*} itemValue
   * @return {DisjointSet}
   */cov_1v9mxh54ch.s[23]++;_createClass(DisjointSet,[{key:"makeSet",value:function makeSet(itemValue){cov_1v9mxh54ch.f[6]++;var disjointSetItem=(cov_1v9mxh54ch.s[24]++,new _DisjointSetItem["default"](itemValue,this.keyCallback));cov_1v9mxh54ch.s[25]++;if(!this.items[disjointSetItem.getKey()]){cov_1v9mxh54ch.b[7][0]++;cov_1v9mxh54ch.s[26]++;// Add new item only in case if it not presented yet.
this.items[disjointSetItem.getKey()]=disjointSetItem;}else{cov_1v9mxh54ch.b[7][1]++;}cov_1v9mxh54ch.s[27]++;return this;}/**
     * Find set representation node.
     *
     * @param {*} itemValue
     * @return {(string|null)}
     */},{key:"find",value:function find(itemValue){cov_1v9mxh54ch.f[7]++;var templateDisjointItem=(cov_1v9mxh54ch.s[28]++,new _DisjointSetItem["default"](itemValue,this.keyCallback));// Try to find item itself;
var requiredDisjointItem=(cov_1v9mxh54ch.s[29]++,this.items[templateDisjointItem.getKey()]);cov_1v9mxh54ch.s[30]++;if(!requiredDisjointItem){cov_1v9mxh54ch.b[8][0]++;cov_1v9mxh54ch.s[31]++;return null;}else{cov_1v9mxh54ch.b[8][1]++;}cov_1v9mxh54ch.s[32]++;return requiredDisjointItem.getRoot().getKey();}/**
     * Union by rank.
     *
     * @param {*} valueA
     * @param {*} valueB
     * @return {DisjointSet}
     */},{key:"union",value:function union(valueA,valueB){cov_1v9mxh54ch.f[8]++;var rootKeyA=(cov_1v9mxh54ch.s[33]++,this.find(valueA));var rootKeyB=(cov_1v9mxh54ch.s[34]++,this.find(valueB));cov_1v9mxh54ch.s[35]++;if((cov_1v9mxh54ch.b[10][0]++,rootKeyA===null)||(cov_1v9mxh54ch.b[10][1]++,rootKeyB===null)){cov_1v9mxh54ch.b[9][0]++;cov_1v9mxh54ch.s[36]++;throw new Error('One or two values are not in sets');}else{cov_1v9mxh54ch.b[9][1]++;}cov_1v9mxh54ch.s[37]++;if(rootKeyA===rootKeyB){cov_1v9mxh54ch.b[11][0]++;cov_1v9mxh54ch.s[38]++;// In case if both elements are already in the same set then just return its key.
return this;}else{cov_1v9mxh54ch.b[11][1]++;}var rootA=(cov_1v9mxh54ch.s[39]++,this.items[rootKeyA]);var rootB=(cov_1v9mxh54ch.s[40]++,this.items[rootKeyB]);cov_1v9mxh54ch.s[41]++;if(rootA.getRank()<rootB.getRank()){cov_1v9mxh54ch.b[12][0]++;cov_1v9mxh54ch.s[42]++;// If rootB's tree is bigger then make rootB to be a new root.
rootB.addChild(rootA);cov_1v9mxh54ch.s[43]++;return this;}else{cov_1v9mxh54ch.b[12][1]++;}// If rootA's tree is bigger then make rootA to be a new root.
cov_1v9mxh54ch.s[44]++;rootA.addChild(rootB);cov_1v9mxh54ch.s[45]++;return this;}/**
     * @param {*} valueA
     * @param {*} valueB
     * @return {boolean}
     */},{key:"inSameSet",value:function inSameSet(valueA,valueB){cov_1v9mxh54ch.f[9]++;var rootKeyA=(cov_1v9mxh54ch.s[46]++,this.find(valueA));var rootKeyB=(cov_1v9mxh54ch.s[47]++,this.find(valueB));cov_1v9mxh54ch.s[48]++;if((cov_1v9mxh54ch.b[14][0]++,rootKeyA===null)||(cov_1v9mxh54ch.b[14][1]++,rootKeyB===null)){cov_1v9mxh54ch.b[13][0]++;cov_1v9mxh54ch.s[49]++;throw new Error('One or two values are not in sets');}else{cov_1v9mxh54ch.b[13][1]++;}cov_1v9mxh54ch.s[50]++;return rootKeyA===rootKeyB;}}]);cov_1v9mxh54ch.s[51]++;return DisjointSet;}());cov_1v9mxh54ch.s[52]++;exports["default"]=DisjointSet;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYi9sYXRsaWIvanNzZXJ2ZXIvamF2YXNjcmlwdC1hbGdvcml0aG1zL2J1aWxkL2RhdGEtc3RydWN0dXJlcy9kaXNqb2ludC1zZXQvRGlzam9pbnRTZXQuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJfRGlzam9pbnRTZXRJdGVtIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkRpc2pvaW50U2V0Iiwia2V5Q2FsbGJhY2siLCJpdGVtcyIsIm1ha2VTZXQiLCJpdGVtVmFsdWUiLCJkaXNqb2ludFNldEl0ZW0iLCJnZXRLZXkiLCJmaW5kIiwidGVtcGxhdGVEaXNqb2ludEl0ZW0iLCJyZXF1aXJlZERpc2pvaW50SXRlbSIsImdldFJvb3QiLCJ1bmlvbiIsInZhbHVlQSIsInZhbHVlQiIsInJvb3RLZXlBIiwicm9vdEtleUIiLCJFcnJvciIsInJvb3RBIiwicm9vdEIiLCJnZXRSYW5rIiwiYWRkQ2hpbGQiLCJpblNhbWVTZXQiXSwibWFwcGluZ3MiOiJBQUFBLGEsNGlSQUVBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLENBQStCLFlBQS9CLENBQTZDLENBQzNDQyxLQUFLLENBQUUsSUFEb0MsQ0FBN0MsRSxzQkFHQUQsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFxQixJQUFLLEVBQTFCLENBRUEsR0FBSUUsQ0FBQUEsZ0JBQWdCLHdCQUFH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Il9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHZvaWQgMDtcblxudmFyIF9EaXNqb2ludFNldEl0ZW0gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL0Rpc2pvaW50U2V0SXRlbVwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBEaXNqb2ludFNldCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiAqKX0gW2tleUNhbGxiYWNrXVxuICAgKi9cbiAgZnVuY3Rpb24gRGlzam9pbnRTZXQoa2V5Q2FsbGJhY2spIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlzam9pbnRTZXQpO1xuXG4gICAgdGhpcy5rZXlDYWxsYmFjayA9IGtleUNhbGxiYWNrO1xuICAgIHRoaXMuaXRlbXMgPSB7fTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHsqfSBpdGVtVmFsdWVcbiAgICogQHJldHVybiB7RGlzam9pbnRTZXR9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKERpc2pvaW50U2V0LCBbe1xuICAgIGtleTogXCJtYWtlU2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VTZXQoaXRlbVZhbHVlKSB7XG4gICAgICB2YXIgZGlzam9pbnRTZXRJdGVtID0gbmV3IF9EaXNqb2ludFNldEl0ZW1bXCJkZWZhdWx0XCJdKGl0ZW1WYWx1ZSwgdGhpcy5rZXlDYWxsYmFjayk7XG5cbiAgICAgIGlmICghdGhpcy5pdGVtc1tkaXNqb2ludFNldEl0ZW0uZ2V0S2V5KCldKSB7XG4gICAgICAgIC8vIEFkZCBuZXcgaXRlbSBvbmx5IGluIGNhc2UgaWYgaXQgbm90IHByZXNlbnRlZCB5ZXQuXG4gICAgICAgIHRoaXMuaXRlbXNbZGlzam9pbnRTZXRJdGVtLmdldEtleSgpXSA9IGRpc2pvaW50U2V0SXRlbTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgc2V0IHJlcHJlc2VudGF0aW9uIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGl0ZW1WYWx1ZVxuICAgICAqIEByZXR1cm4geyhzdHJpbmd8bnVsbCl9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmaW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmQoaXRlbVZhbHVlKSB7XG4gICAgICB2YXIgdGVtcGxhdGVEaXNqb2ludEl0ZW0gPSBuZXcgX0Rpc2pvaW50U2V0SXRlbVtcImRlZmF1bHRcIl0oaXRlbVZhbHVlLCB0aGlzLmtleUNhbGxiYWNrKTsgLy8gVHJ5IHRvIGZpbmQgaXRlbSBpdHNlbGY7XG5cbiAgICAgIHZhciByZXF1aXJlZERpc2pvaW50SXRlbSA9IHRoaXMuaXRlbXNbdGVtcGxhdGVEaXNqb2ludEl0ZW0uZ2V0S2V5KCldO1xuXG4gICAgICBpZiAoIXJlcXVpcmVkRGlzam9pbnRJdGVtKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVxdWlyZWREaXNqb2ludEl0ZW0uZ2V0Um9vdCgpLmdldEtleSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbmlvbiBieSByYW5rLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZUFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlQlxuICAgICAqIEByZXR1cm4ge0Rpc2pvaW50U2V0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5pb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5pb24odmFsdWVBLCB2YWx1ZUIpIHtcbiAgICAgIHZhciByb290S2V5QSA9IHRoaXMuZmluZCh2YWx1ZUEpO1xuICAgICAgdmFyIHJvb3RLZXlCID0gdGhpcy5maW5kKHZhbHVlQik7XG5cbiAgICAgIGlmIChyb290S2V5QSA9PT0gbnVsbCB8fCByb290S2V5QiA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09uZSBvciB0d28gdmFsdWVzIGFyZSBub3QgaW4gc2V0cycpO1xuICAgICAgfVxuXG4gICAgICBpZiAocm9vdEtleUEgPT09IHJvb3RLZXlCKSB7XG4gICAgICAgIC8vIEluIGNhc2UgaWYgYm90aCBlbGVtZW50cyBhcmUgYWxyZWFkeSBpbiB0aGUgc2FtZSBzZXQgdGhlbiBqdXN0IHJldHVybiBpdHMga2V5LlxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIHJvb3RBID0gdGhpcy5pdGVtc1tyb290S2V5QV07XG4gICAgICB2YXIgcm9vdEIgPSB0aGlzLml0ZW1zW3Jvb3RLZXlCXTtcblxuICAgICAgaWYgKHJvb3RBLmdldFJhbmsoKSA8IHJvb3RCLmdldFJhbmsoKSkge1xuICAgICAgICAvLyBJZiByb290QidzIHRyZWUgaXMgYmlnZ2VyIHRoZW4gbWFrZSByb290QiB0byBiZSBhIG5ldyByb290LlxuICAgICAgICByb290Qi5hZGRDaGlsZChyb290QSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSAvLyBJZiByb290QSdzIHRyZWUgaXMgYmlnZ2VyIHRoZW4gbWFrZSByb290QSB0byBiZSBhIG5ldyByb290LlxuXG5cbiAgICAgIHJvb3RBLmFkZENoaWxkKHJvb3RCKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlQVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVCXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImluU2FtZVNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpblNhbWVTZXQodmFsdWVBLCB2YWx1ZUIpIHtcbiAgICAgIHZhciByb290S2V5QSA9IHRoaXMuZmluZCh2YWx1ZUEpO1xuICAgICAgdmFyIHJvb3RLZXlCID0gdGhpcy5maW5kKHZhbHVlQik7XG5cbiAgICAgIGlmIChyb290S2V5QSA9PT0gbnVsbCB8fCByb290S2V5QiA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09uZSBvciB0d28gdmFsdWVzIGFyZSBub3QgaW4gc2V0cycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcm9vdEtleUEgPT09IHJvb3RLZXlCO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEaXNqb2ludFNldDtcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEaXNqb2ludFNldDsiXX0=